import{r as i,j as e,R as Z}from"./vendor-react--UE8qFvL.js";import{I as g,c as ee,S as te,u as M,K as se,L as ae,T as re,P as ne,f as le,g as ie}from"./index-BGfGWBoP.js";import"./vendor-BhE6lIor.js";import"./vendor-genai-C0GBL7S7.js";const oe=x=>{const c=i.useMemo(()=>{if(!x)return[];const f=[],u=m=>{m.forEach(w=>{f.push(w),w.subClauses&&u(w.subClauses)})};return x.groups.forEach(m=>u(m.clauses)),f},[x]),j=i.useCallback(f=>c.find(u=>u.id===f),[c]),r=i.useCallback(f=>c.find(u=>u.code===f),[c]);return{flatClauses:c,getClauseById:j,getClauseByCode:r}},de=Z.memo(({row:x,clauseId:c,clauseCode:j,isActive:r,isDone:f,onActivate:u,onRowChange:m,onPaste:w,textareaRef:k})=>{const[p,N]=i.useState(!1),o=i.useRef(""),y=i.useRef(null),I=L=>{p&&N(!1),m(c,x.id,L.target.value)},S=()=>{o.current=x.evidenceInput,m(c,x.id,""),N(!0),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{N(!1)},5e3)},T=()=>{m(c,x.id,o.current),N(!1),y.current&&clearTimeout(y.current)},R=L=>{w(L,c,x.id)};return e.jsxs("div",{className:`flex flex-col h-full animate-in fade-in zoom-in-95 duration-200 ${r?"block":"hidden"}`,children:[e.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 backdrop-blur-md sticky top-0 z-10",children:[e.jsx("div",{className:"flex items-center justify-between gap-3 mb-3",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"text-xs font-black text-white bg-gradient-to-r from-indigo-500 to-purple-500 px-2 py-0.5 rounded shadow-sm",children:j})})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border-l-4 border-indigo-400 dark:border-indigo-600 shadow-sm",children:e.jsx("p",{className:"text-base text-slate-700 dark:text-slate-200 leading-relaxed font-medium",children:x.requirement})})]}),e.jsx("div",{className:"flex-1 relative group bg-white dark:bg-slate-900",children:e.jsx("textarea",{ref:r?k:null,className:"w-full h-full p-6 text-base text-slate-900 dark:text-white bg-transparent outline-none resize-none leading-7 placeholder-slate-300 dark:placeholder-slate-600 font-medium custom-scrollbar",placeholder:"Type verified evidence here... (Drag & Drop files supported)",value:x.evidenceInput,onChange:I,onPaste:R,autoFocus:!0})}),e.jsxs("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-slate-800 flex items-center justify-between bg-gray-50/90 dark:bg-slate-950/90 backdrop-blur-sm transition-all min-h-[44px]",children:[e.jsxs("div",{className:"text-[10px] text-slate-400 font-mono flex gap-3",children:[e.jsxs("span",{children:["Ln ",x.evidenceInput.split(`
`).length]}),e.jsxs("span",{children:["Col ",x.evidenceInput.length]})]}),e.jsx("div",{className:"flex items-center gap-3",children:p?e.jsxs("div",{className:"flex items-center gap-2 bg-slate-200 dark:bg-slate-800 px-3 py-1 rounded-full animate-in slide-in-from-right-5 fade-in duration-300",children:[e.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Cleared."}),e.jsxs("button",{onClick:T,className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[e.jsx(g,{name:"Session5_RefreshCircle",size:12})," Undo"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex items-center gap-1 transition-all duration-300 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider",children:"Saved"})]}),e.jsx("div",{className:"h-4 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),e.jsxs("button",{onClick:S,className:"flex items-center gap-1.5 px-3 py-1 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all text-[10px] font-bold uppercase tracking-wide group/trash",title:"Clear Evidence",disabled:!x.evidenceInput,children:[e.jsx(g,{name:"Trash2",size:14,className:"group-hover/trash:scale-110 transition-transform"}),e.jsx("span",{children:"Clear"})]})]})})]})]})}),ce=i.forwardRef(({standard:x,selectedClauses:c,matrixData:j,setMatrixData:r,onPasteFiles:f,uploadedFiles:u=[],onRemoveFile:m,onLookup:w,onOcrProcess:k,isProcessing:p},N)=>{const[o,y]=i.useState(null),[I,S]=i.useState(!1),T=i.useRef(null),{getClauseById:R}=oe(x);i.useEffect(()=>{r(t=>{const s={...t};let d=!1,n=null;return c.forEach(a=>{if(!s[a]||s[a].length===0){const h=R(a);if(h){const b=h.description||"Requirement",P=b.length>300?b.split(/(?:\. |\n)/).filter(A=>A.trim().length>5):[b];s[a]=P.map((A,$)=>({id:`${a}_req_${$}`,requirement:A.trim(),evidenceInput:"",status:"pending"})),d=!0}}!n&&s[a]&&s[a].length>0&&(n={clauseId:a,rowId:s[a][0].id})}),!o&&n&&y(n),d?s:t})},[c,R,r]);const L=i.useCallback((t,s,d)=>{r(n=>({...n,[t]:n[t].map(a=>{if(a.id===s){const h=a.evidenceInput||"",P=h+(h&&d?`
`:"")+d;return{...a,evidenceInput:P,status:P.trim()?"supplied":"pending"}}return a})}))},[r]),_=i.useCallback((t,s,d)=>{r(n=>{const a=n[t];if(!a)return n;const h=a.findIndex(P=>P.id===s);if(h===-1||a[h].evidenceInput===d)return n;const b=[...a];return b[h]={...b[h],evidenceInput:d,status:d.trim()?"supplied":"pending"},{...n,[t]:b}})},[r]),q=i.useCallback((t,s,d)=>{const n=t.clipboardData.items,a=[];for(let h=0;h<n.length;h++)if(n[h].kind==="file"){const b=n[h].getAsFile();b&&a.push(b)}a.length>0&&(t.preventDefault(),f&&f(a,{clauseId:s,rowId:d}))},[f]);i.useImperativeHandle(N,()=>({insertEvidence:(t,s,d)=>{if((o==null?void 0:o.clauseId)===t&&(o==null?void 0:o.rowId)===s&&T.current){const a=T.current,h=a.selectionStart,b=a.selectionEnd,P=a.value,A=P.substring(0,h)+d+P.substring(b);_(t,s,A),setTimeout(()=>{if(T.current){T.current.focus();const $=h+d.length;T.current.setSelectionRange($,$)}},0)}else L(t,s,d)},handleExternalDictation:t=>{o&&L(o.clauseId,o.rowId,t)},getActiveRow:()=>o}));const O=i.useMemo(()=>{if(!o)return null;const t=R(o.clauseId),s=j[o.clauseId],d=s==null?void 0:s.find(n=>n.id===o.rowId);return!t||!d?null:{clause:t,row:d}},[o,j,R]),U=t=>{const s=t.file.type.startsWith("image/"),d=t.file.type.includes("pdf");return e.jsxs("div",{className:"relative group w-20 h-20 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 flex flex-col items-center justify-center overflow-hidden transition-all hover:shadow-md hover:-translate-y-1",children:[s?e.jsx("img",{src:URL.createObjectURL(t.file),alt:"preview",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}):e.jsxs("div",{className:"flex flex-col items-center p-2 text-center",children:[e.jsx(g,{name:d?"BookOpen":"FileText",size:24,className:"text-slate-400 mb-1"}),e.jsx("span",{className:"text-[9px] text-slate-500 line-clamp-2 leading-tight break-all",children:t.file.name})]}),e.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-start justify-end p-1",children:[t.status==="processing"&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-black/50 flex items-center justify-center",children:e.jsx(g,{name:"Loader",size:16,className:"animate-spin text-indigo-600"})}),t.status==="success"&&e.jsx("div",{className:"bg-emerald-500 rounded-full p-0.5 shadow-sm",children:e.jsx(g,{name:"CheckThick",size:10,className:"text-white"})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),m&&m(t.id)},className:"bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all hover:scale-110 shadow-sm",title:"Remove File",children:e.jsx(g,{name:"X",size:10})})]})]},t.id)};return c.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-gray-50/30 dark:bg-slate-900/30 rounded-3xl border-2 border-dashed border-gray-200 dark:border-slate-800 m-4",children:[e.jsx("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-full shadow-depth mb-4",children:e.jsx(g,{name:"LayoutList",size:48,className:"text-indigo-200 dark:text-slate-700"})}),e.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Select clauses to start mapping evidence."})]}):e.jsx("div",{className:"h-full flex flex-col relative animate-fade-in-up",children:e.jsxs("div",{className:"flex-1 min-h-0 bg-white dark:bg-slate-900 rounded-2xl border border-white/60 dark:border-slate-800 shadow-depth overflow-hidden flex",children:[e.jsxs("div",{className:"w-1/3 min-w-[260px] max-w-[350px] border-r border-gray-100 dark:border-slate-800 flex flex-col bg-slate-50/50 dark:bg-slate-950/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center bg-white/50 dark:bg-slate-900/50",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Requirement Checklist"}),e.jsxs("button",{onClick:()=>{const t=c.map(s=>{const d=R(s);return d?`[${d.code}] ${d.title}`:null}).filter(Boolean).join(`
`);t&&(ee(t),S(!0),setTimeout(()=>S(!1),2e3))},className:`text-xs font-bold flex items-center gap-1 transition-all duration-300 ${I?"text-emerald-500 scale-105":"text-indigo-500 hover:text-indigo-600"}`,children:[e.jsx(g,{name:I?"CheckThick":"Copy",size:12}),I?"Copied":"Copy All"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4",children:c.map(t=>{const s=R(t),d=j[t]||[];return s?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 px-2 py-2 group/header rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx("span",{className:"text-xs font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 px-1.5 py-0.5 rounded flex-shrink-0 border border-indigo-100 dark:border-indigo-800/50",children:s.code}),e.jsx("span",{className:"text-base font-bold text-slate-700 dark:text-slate-300 truncate",title:s.title,children:s.title})]}),e.jsx("button",{onClick:n=>{n.stopPropagation(),w&&w(s)},className:"p-1 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded opacity-0 group-hover/header:opacity-100 transition-all scale-90 hover:scale-100",title:"Read Clause Content",children:e.jsx(g,{name:"BookOpen",size:14})})]}),e.jsx("div",{className:"pl-2 space-y-1",children:d.map(n=>{const a=(o==null?void 0:o.rowId)===n.id,h=n.status==="supplied";return e.jsx("div",{onClick:()=>y({clauseId:t,rowId:n.id}),className:`group relative p-3 rounded-xl cursor-pointer transition-all border ${a?"bg-white dark:bg-slate-800 border-indigo-200 dark:border-indigo-600 shadow-sm ring-1 ring-indigo-500/10":"bg-transparent border-transparent hover:bg-white dark:hover:bg-slate-800/50 hover:border-slate-200 dark:hover:border-slate-700"}`,children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx("div",{className:`mt-1.5 w-2.5 h-2.5 rounded-full shrink-0 transition-all shadow-sm ${h?"bg-emerald-500 scale-110":a?"bg-indigo-500 scale-110":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("p",{className:`text-sm leading-relaxed line-clamp-3 ${a?"text-slate-800 dark:text-slate-100 font-medium":"text-slate-500 dark:text-slate-400"}`,children:n.requirement})]})},n.id)})})]},t):null})})]}),e.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-900 min-w-0 relative",children:O?e.jsxs("div",{className:"flex flex-col h-full animate-in fade-in zoom-in-95 duration-200",children:[e.jsx(de,{row:O.row,clauseId:O.clause.id,clauseCode:O.clause.code,isActive:!0,isDone:O.row.status==="supplied",onRowChange:_,onPaste:q,textareaRef:T},O.row.id),u.length>0&&e.jsx("div",{className:"px-6 pt-4 pb-2 bg-slate-50/30 dark:bg-black/10 border-t border-gray-100 dark:border-slate-800",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[u.map(U),e.jsxs("button",{onClick:t=>{t.stopPropagation(),k&&k()},disabled:p,className:"group relative w-20 h-20 flex flex-col items-center justify-center gap-1 rounded-xl btn-shrimp text-white shadow-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-indigo-500/40",title:"Process OCR for these files",children:[p?e.jsx(g,{name:"Loader",size:24,className:"animate-spin text-white"}):e.jsx(g,{name:"ScanText",size:24,className:"group-hover:scale-110 transition-transform text-white"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider text-white",children:"OCR Process"})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 dark:text-slate-600",children:[e.jsx(g,{name:"ArrowLeft",size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Select a requirement from the checklist"})]})})]})})}),xe=(x,c)=>{const[j,r]=i.useState(!1),f=i.useRef(null),u=i.useCallback(()=>{var w;if(j){(w=f.current)==null||w.stop(),r(!1);return}const m=window.SpeechRecognition||window.webkitSpeechRecognition;if(!m){alert("Voice-to-Text is not supported in this browser.");return}try{const k=new m;k.continuous=!0,k.interimResults=!0,k.lang=x==="vi"?"vi-VN":"en-US",k.onresult=p=>{let N="";for(let o=p.resultIndex;o<p.results.length;++o)p.results[o].isFinal&&(N+=p.results[o][0].transcript);N&&c(N.trim())},k.onerror=p=>{console.error("Speech Error",p.error),r(!1)},k.onend=()=>r(!1),k.start(),f.current=k,r(!0)}catch(k){console.error("Failed to start recognition",k),r(!1)}},[j,x,c]);return{isListening:j,toggleListening:u}},ue=({toggleListening:x,isListening:c,triggerFileUpload:j,onAnalyze:r,isReadyForAnalysis:f,isAnalyzeLoading:u,processes:m,activeProcessId:w,setActiveProcessId:k})=>e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 min-h-[52px]",children:[e.jsxs("div",{className:"relative group min-w-[180px] max-w-[240px]",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-indigo-500 pointer-events-none",children:e.jsx(g,{name:"Session11_GridAdd",size:16})}),e.jsxs("select",{value:w||"",onChange:p=>k(p.target.value),className:"w-full h-[48px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl pl-9 pr-8 text-xs font-bold text-slate-700 dark:text-slate-200 outline-none cursor-pointer appearance-none shadow-sm hover:border-indigo-400 focus:ring-2 focus:ring-indigo-500/20 transition-all",title:"Switch active process",children:[m.length===0&&e.jsx("option",{value:"",children:"No Processes"}),m.map(p=>e.jsx("option",{value:p.id,children:p.name},p.id))]}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:e.jsx(g,{name:"ChevronDown",size:12})})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsxs("button",{onClick:x,className:`px-4 h-[48px] rounded-xl text-xs font-bold flex items-center gap-2 transition-all shadow-sm border active:scale-95 ${c?"bg-red-50 text-red-600 border-red-200 animate-pulse":"bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-300 border-gray-200 dark:border-slate-700 hover:border-indigo-500"}`,children:[e.jsx(g,{name:"Mic",size:18}),e.jsx("span",{className:"hidden md:inline",children:c?"Recording...":"Dictate"})]}),e.jsxs("button",{onClick:j,className:"px-4 h-[48px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 hover:border-indigo-500 text-slate-600 dark:text-slate-300 rounded-xl text-xs font-bold flex items-center gap-2 shadow-sm transition-all active:scale-95",children:[e.jsx(g,{name:"UploadCloud",size:18}),e.jsx("span",{className:"hidden md:inline",children:"Upload"})]}),e.jsxs("button",{onClick:r,disabled:!f,className:`px-6 h-[48px] rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg ${f?"btn-shrimp text-white active:scale-95 hover:shadow-indigo-500/40":"bg-gray-200 dark:bg-slate-800 text-slate-400 cursor-not-allowed"}`,children:[u?e.jsx(te,{className:"text-white"}):e.jsx(g,{name:"Wand2",size:18}),e.jsx("span",{children:"Analyze"})]})]})]}),pe=()=>{const{knowledgeBase:x,standardKey:c}=M();return async r=>{const f=new CustomEvent("OPEN_REFERENCE",{detail:r});window.dispatchEvent(f);let u=null;c&&(u=await se.getClauseContent(c,r.code)),(!u||u.length<10)&&x&&(u=ae.extractClauseContent(x,r.code,r.title)),u&&u.length>20?setTimeout(()=>{const m=new CustomEvent("UPDATE_REFERENCE_CONTENT",{detail:{en:u,vi:`[LOCAL DB]

${u}

(Use Translate tool if needed)`}});window.dispatchEvent(m)},50):setTimeout(()=>{const m=new CustomEvent("UPDATE_REFERENCE_CONTENT",{detail:{en:`Content not found in Local Index.
Please ensure you have uploaded the Standard PDF/DOCX in the Sidebar.`,vi:""}});window.dispatchEvent(m)},50)}},be=({evidence:x,setEvidence:c,uploadedFiles:j,setUploadedFiles:r,isOcrLoading:f,onAnalyze:u,isReadyForAnalysis:m,isAnalyzeLoading:w,analyzeTooltip:k,evidenceLanguage:p,setEvidenceLanguage:N,onExport:o,standards:y,standardKey:I,matrixData:S,setMatrixData:T})=>{const{activeProcess:R,activeProcessId:L,setActiveProcessId:_,processes:q,addInterviewee:O,removeInterviewee:U}=M(),[t,s]=i.useState(!1),[d,n]=i.useState(!1),a=i.useRef({}),h=i.useRef(null),b=i.useRef(null),P=pe(),A=i.useMemo(()=>S?Object.keys(S).sort((D,v)=>D.localeCompare(v,void 0,{numeric:!0,sensitivity:"base"})):[],[S]),$=re.find(l=>l.id==="evidence"),V=i.useCallback(l=>{l&&b.current?b.current.handleExternalDictation(l):alert("Please select a Requirement row in the Matrix first.")},[]),{isListening:W,toggleListening:G}=xe(p,V),B=i.useCallback((l,D)=>{var E;const v=D||((E=b.current)==null?void 0:E.getActiveRow());if(!v){alert("Please click/focus on a specific Requirement row to attach files.");return}const z=l.map(C=>{const F=Math.random().toString(36).substr(2,9);return a.current[F]=v,{id:F,file:C,status:"pending"}});r(C=>[...C,...z])},[r]),K=i.useCallback(l=>{r(D=>D.filter(v=>v.id!==l)),delete a.current[l]},[r]),X=i.useCallback(async()=>{const l=j.filter(v=>v.status==="pending"||v.status==="error");if(l.length===0)return;n(!0);const D=ne.getPrompt("OCR").template;for(const v of l)try{r(E=>E.map(C=>C.id===v.id?{...C,status:"processing"}:C));let z="";if(v.file.type.startsWith("image/")){const E=await le(v.file);z=await ie(D,E,v.file.type)}else v.file.type==="application/pdf"?z="[PDF Content extracted via OCR would go here - System limitation]":z=await v.file.text();if(z&&b.current){const E=a.current[v.id];if(E){const C=`

[[SOURCE_FILE: ${v.file.name}]]
`;b.current.insertEvidence(E.clauseId,E.rowId,`${C}${z}`),r(F=>F.filter(Y=>Y.id!==v.id))}}}catch(z){console.error("Matrix OCR Error",z),r(E=>E.map(C=>C.id===v.id?{...C,status:"error",error:z.message||"Failed"}:C))}n(!1)},[j,r]),H=i.useCallback(l=>{l.preventDefault(),s(!0)},[]),J=i.useCallback(l=>{l.preventDefault(),s(!1)},[]),Q=i.useCallback(l=>{l.preventDefault(),s(!1),l.dataTransfer.files&&l.dataTransfer.files.length>0&&B(Array.from(l.dataTransfer.files))},[B]);return e.jsxs("div",{className:"h-full flex flex-col gap-2 animate-fade-in-up relative p-1",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-h-0 relative",children:[e.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*,application/pdf,text/plain",multiple:!0,onChange:l=>l.target.files&&B(Array.from(l.target.files))}),e.jsxs("div",{className:`flex-1 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-t-4 border-t-${$.borderClass.replace("border-","")} overflow-hidden flex flex-row relative group transition-all duration-500 ease-fluid dark:shadow-[0_0_0_1px_rgba(255,255,255,0.05),0_4px_6px_-1px_rgba(0,0,0,0.5)] ${t?`${$.borderClass} ring-4 ring-blue-500/20 bg-blue-50/10`:"border-gray-100 dark:border-transparent"}`,onDragOver:H,onDragLeave:J,onDrop:Q,children:[t&&e.jsxs("div",{className:"absolute inset-0 bg-blue-500/10 backdrop-blur-[2px] z-50 flex flex-col items-center justify-center pointer-events-none animate-in fade-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"p-6 rounded-full bg-white dark:bg-slate-900 shadow-2xl border-4 border-dashed border-blue-500",children:e.jsx(g,{name:"UploadCloud",size:48,className:"text-blue-600 animate-bounce"})}),e.jsx("h3",{className:"mt-4 text-xl font-black text-blue-700 dark:text-blue-400 uppercase tracking-widest",children:"Drop Files to Active Row"})]}),y&&I&&y[I]&&S&&T?A.length>0?e.jsx("div",{className:"flex-1 w-full h-full p-1",children:e.jsx(ce,{ref:b,standard:y[I],selectedClauses:A,matrixData:S,setMatrixData:T,onPasteFiles:B,uploadedFiles:j,onRemoveFile:K,onLookup:P,onOcrProcess:X,isProcessing:d})}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 bg-gray-50/20 dark:bg-slate-900/50",children:[e.jsx("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-full shadow-lg mb-4",children:e.jsx(g,{name:"LayoutList",size:48,className:"text-indigo-200 dark:text-slate-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-600 dark:text-slate-300",children:"No Clauses Planned"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2 max-w-xs text-center",children:["Go to the ",e.jsx("strong",{children:"Planning"})," tab to select which clauses apply to the ",e.jsx("strong",{children:(R==null?void 0:R.name)||"Active"})," process."]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[e.jsx(g,{name:"LayoutList",size:48,className:"mb-4 opacity-30"}),e.jsx("p",{children:"Please select a Standard to view the Matrix."})]})]})]}),e.jsxs("div",{className:"flex-shrink-0 flex flex-row items-center justify-between gap-2 md:gap-3 w-full pt-1",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(ue,{toggleListening:G,isListening:W,triggerFileUpload:()=>{var l;return(l=h.current)==null?void 0:l.click()},onAnalyze:u,isReadyForAnalysis:m,isAnalyzeLoading:w,processes:q,activeProcessId:L,setActiveProcessId:_})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>o("evidence",p,"txt"),className:"flex-none md:w-auto px-4 md:px-6 h-[52px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 hover:border-indigo-500 text-slate-700 dark:text-slate-200 rounded-xl text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 active:scale-95 shadow-sm whitespace-nowrap dark:shadow-md",title:"Export Raw Evidence",children:[e.jsx(g,{name:"Download"}),e.jsx("span",{className:"hidden md:inline",children:"Export"}),e.jsxs("div",{className:"lang-pill-container",children:[e.jsx("span",{onClick:l=>{l.stopPropagation(),N("en")},className:`lang-pill-btn ${p==="en"?"lang-pill-active":"lang-pill-inactive"}`,children:"EN"}),e.jsx("span",{onClick:l=>{l.stopPropagation(),N("vi")},className:`lang-pill-btn ${p==="vi"?"lang-pill-active":"lang-pill-inactive"}`,children:"VI"})]})]})})]})]})};export{be as EvidenceView};
